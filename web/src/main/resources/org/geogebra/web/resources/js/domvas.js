!function(){function t(t,e,l){var o=getComputedStyle(e);if(i)t.style.cssText=o.cssText;else for(var s in o)isNaN(parseInt(s,10))&&"function"!=typeof o[s]&&!/^(cssText|length|parentRule)$/.test(s)&&(t.style[s]=o[s])}function e(e,i){var l=e.querySelectorAll("*"),o=i.querySelectorAll("*");t(e,i,1),Array.prototype.forEach.call(l,function(e,i){if("CANVAS"==e.tagName){window.div=document.createElement("div"),e.parentElement.replaceChild(div,e),div.style.height=o[i].offsetHeight+"px",div.style.width=o[i].offsetWidth+"px";var l=o[i].toDataURL();div.style.backgroundImage="url("+l+")",div.style.backgroundSize=div.style.width+" "+div.style.height}else t(e,o[i])}),e.style.margin=e.style.marginLeft=e.style.marginTop=e.style.marginBottom=e.style.marginRight=""}var i=""!==getComputedStyle(document.body).cssText;window.domvas={toImage:function(t,i,l,o,s,n){s=s||0,n=n||0;var r=t.cloneNode(!0);e(r,t),r.setAttribute("xmlns","http://www.w3.org/1999/xhtml");var a=(new XMLSerializer).serializeToString(r),g="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='"+((l||t.offsetWidth)+s)+"' height='"+((o||t.offsetHeight)+n)+"'><foreignObject width='100%' height='100%' x='"+s+"' y='"+n+"'>"+a+"</foreignObject></svg>",d=new Image;d.src=g,d.onload=function(){i&&i.call(this,this)}}}}();