<!DOCTYPE html>
<html>
<head>
<title>Embedded Applet - GeoGebra</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="gwt:property" content="locale=en">
<style>
body {
	font-family: sans-serif;
}

label {
	min-width: 160px;
	display: inline-block;
}
</style>
<script type="text/javascript">
	// for IE9
	if (!window.console)
		window.console = {};
	if (!window.console.log)
		window.console.log = function() {
		};

	WebFontConfig = {
		loading : function() {
		},
		active : function() {
		},
		inactive : function() {
		},
		fontloading : function(familyName, fvd) {
			console.log("font fontloading: " + familyName);
		},
		fontactive : function(familyName, fvd) {
			console.log("font active: " + familyName);
		},
		fontinactive : function(familyName, fvd) {
		},
		custom : {
			families : [ "geogebra-serif", "geogebra-sans-serif" ],
			urls : [ "web3d/css/fonts.css?v=1.15" ]
		}
	};

	var params = {
		"appName" : [ "select", "classic", "graphing", "geometry", "3d","whiteboard" ],
		"perspective" : "text",
		"showToolBar" : "boolean",
		"showMenuBar" : "boolean",
		"showAlgebraInput" : "boolean",
		"tubeID" : "text",
		"fileName" : "text",
		"base64String" : "text",
		"enableUndoRedo" : [ "boolean", true ],
		"enableRightClick" : ["boolean", true],
		"allowSymbolTable" : ["boolean", true],
		"customToolBar" : "text",
		"allowStyleBar" : "boolean",
		"rounding" : "text",
		"language" : "text",
		"country" : "text",
		"showToolBarHelp" : ["boolean",true],
		"errorDialogsActive" : "boolean",
		"enableLabelDrags" : [ "boolean", true ],
		"enableShiftDragZoom" : [ "boolean",true ],
		"enableFileFeatures" : [ "boolean", true ],
		"enableGraphing" : [ "boolean", true ],
		"enable3D" : [ "boolean", true ],
		"enableCAS" : [ "boolean", true ],
		"useBrowserForJS" : [ "boolean", true ],
		"screenshotGenerator" : "boolean",		
		"prerelease" : "boolean",
		"borderColor" : [ "text", "#D3D3D3" ],
		"capturingThreshold" : "number",
		"fitToScreen" : "boolean",
		"showStartTooltip" : "boolean",
		"showLogging" : "boolean",
		"scale" : "number",
		"preventFocus":"boolean",
		"showAppsPicker" : "boolean",
		"marginTop" : "number",
		"clientId":"text",
		"laf":"text",
		"showResetIcon" : "boolean",
		"showAnimationButton" : ["boolean",true],
		"showSuggestionButtons" : ["boolean",true],
		"showFullscreenButton" : "boolean",
		"showZoomButtons" : "boolean",
		"buttonShadows": "boolean",
		"buttonRounding": "number",
		"app" : "boolean",
		"jSON" : "text",
		"id" : "text",
		"width" : [ "text", 600 ],
		"height" : [ "text", 450 ]

	}
	function decode(el, param) {
		var fallback = false;
		if(typeof params[param] == "object"){
			fallback = params[param][1];
		}
		if (el.type == "checkbox") {
			return el.checked == fallback ? null : (el.checked + "");
		}
		if(param == "width" || param == "height"){
			return el.value;
		}
		return el.value.length && el.value != fallback ? el.value : null;
	}
	function updateParams(article) {
		var url = location.protocol+"//"+location.host+location.pathname+"?"
		for (param in params) {
			var val = decode(document.getElementById("set" + param), param);
			console.log(param+":"+val);
			if (val) {
				article.setAttribute("data-param-" + param, val);
				if(val === "true"){
					url += param + "&";
				} else if(val){
					url += param + "=" + val+ "&";
				}
			}else{
				article.removeAttribute("data-param-" + param);
			}
		}
		history.pushState("","",url);
		renderGGBElement(article);
	}
	window.addEventListener("load", function() {
		var article = document.createElement("article");

		for (param in params) {
			type = typeof params[param] == "object" ? params[param][0]
					: params[param];
			var input = document.createElement(type == "select" ? "select"
					: "input");
			if (type == "select") {
				for (var opt = 1; opt < params[param].length; opt++) {
					var optVal = params[param][opt];
					var optTag = document.createElement("option");
					optTag.innerText = optVal;
					optTag.value = optVal;
					input.appendChild(optTag);
				}
			}
			label = document.createElement("label");
			label.innerText = param;

			val = typeof params[param] == "object" ? params[param][1] : null;
			input.type = type.replace("boolean", "checkbox");
			if (type == "boolean") {

				input.checked = val ? "on" : "";
			} else {
				input.value = val;
			}
			input.id = input.name = "set" + param;
			input.addEventListener("change", function() {
				updateParams(article);
			});
			label.setAttribute("for", "set" + param);
			field = document.createElement("div");
			field.appendChild(label);
			field.appendChild(input);
			document.getElementById("settings").appendChild(field);
		}

		article.className = "geogebraweb";
		document.getElementById("parent").appendChild(article);
		settings = location.search.substring(1).split("&");
		for (i in settings) {
			var parts = settings[i].split("=");
			if (params[parts[0]]) {
				article.setAttribute("data-param-" + parts[0], parts[1]
						|| "true");
				if (parts[1]) {
					document.getElementById("set" + parts[0]).value = parts[1];
				} else {
					document.getElementById("set" + parts[0]).checked = true;
				}
			}
		}

		article.setAttribute("data-param-showLogging", "true");

		var w3d = document.createElement("script");
		w3d.src = "web3d/web3d.nocache.js";
		document.body.appendChild(w3d);
	});
	
	function updateggb(){
		var newbase64 ="UEsDBBQACAgIAPZxR0wAAAAAAAAAAAAAAAAXAAAAZ2VvZ2VicmFfZGVmYXVsdHMyZC54bWztmltz4jYUgJ+7v0Kjp/YhYBkMbCbOTnZnOs1MNptpMjt9FbYwaoTkWnIw/PqVJfBlgRQMKSRNHiIfWTd/5+joSOLiUzZh4IkkkgruQ9RyICA8ECHlkQ9TNTobwE+XHy4iIiIyTDAYiWSClQ+9vGRRT0utrmvycBz7MGBYShpAEDOs8io+nEIAMknPubjFEyJjHJD7YEwm+EYEWJlWxkrF5+32dDptLftriSRqR5FqZTKEQI+VSx8uHs51c7VK044p7joOav/19cY2f0a5VJgHBAL9HSEZ4ZQpqR8JIxPCFVCzmPgwFpQrCBgeEubDu1wCv44SQn6DYFFJ43Hg5YdfLuRYTIEY/k0CnaeSlBT1jNDOy+jXXwQTCUh82O9DENlk6EPX8zQlFo+xDx1bmOEZScATZkUOTpUITH2TO8JMkmVZ3dNXERL7prsoz+nEUARSEa0ABIGMCQnNk/1CZLQxM4qttBcIkYQSZD68xbcQzBbp3KamiGFzT+eLLr1qrpoxUhn5RXuBdTvAIYkJD3WhGmXUiHJvYCjnydAmrxly96Uh994hb4KMdqf8jVfZuo3YItczcE367igqdK/5nyTSY64y7rwzPijjugV3G9F1DFvnlZI1RSxDmf/XYYyYxIxkBwTPKC8h3hihgO42iy6q0J2jIHcaI89xWHhqTINHTqTMyZbt5g9/0FCvXqY/ocNGqnRLqD+wLZB/eE1lVGuM6jLPq2GU8kAZh7JA+yVNnqq66HSdY2ijbPPQytiX9GaWkkS5VHC5X8qlYTcL6P7fhi1SxfKer7nSuyxizFWufNojIfGDbuobf0gwl/lWq25Jm/WW4NlzOvPedXZ6Olv6rdvvOCk0kergfqTHHlbV1yw82riAt1zv2DrcwZuvJbJ/SHNSBr2jtR7GrHrNvILrdNdjbPVP2Kye9OeJksf3hVjGCO/x2u4uck2QjRNFJMX837YsbBZV5vjdUi700bf62H+MO28qvY7RqYdW7Bs59g91PzoI9ZB7bDU/D7i2PbkrMkrE6EiIT3TSbKYZCJ6ffy+3F1YqOHbfmOs4wD6ORoRbjysByBxTbOaYynNncTORISPPkHk7Rzbb1NcDT2gGrmyNK1vwyrVJxyZdm3gFoGabR6PaWHutSvj809LQbbbjeU2O5E0q/T8I4Xk6IUnFNdwu5cJ4POscdHspqal2C1ewyU42W4VkNNQmNKFaSWdaexOcGS3ioRQsVeQ+SAjh5SWdNeMpDdU4D+x03yOa5eZiX4xFQueCqwIGyCfBFTO3ebUDjnXW4z4Xv9ZsdT/vjHnEysl4ZaVSAfb83hT6+WhvnV6qCJ0FwV7LHXTQwOs4fdT/6A16WxJFg8ZEa97GQthmOUHO1la0v7fZyWe463wGToLyELbjHNgwVraSvxcZ5SboFE8GjcmsFH2xQz8mglSWB9lWKggN3lh4g9OMMoqT2WpPL0ZYkawMMB6MUPkdwgkC3vwpGntUDu3aSpXrfvsxI6opcjzRFWwnlH/GwWOUiJSHq8vWQT4dHdu2NkMbCsEILh3R56VcuWZeCRQ2Adp+NXix2ReMSfA4FFltcXvex1BZzoAbI1Suf9fMgH3WvLOjm0KTI71tbyXPVg4A25VfQrWXv7a6/AFQSwcITX7Ta8sEAAAPJgAAUEsDBBQACAgIAPZxR0wAAAAAAAAAAAAAAAAXAAAAZ2VvZ2VicmFfZGVmYXVsdHMzZC54bWztV81S2zAQPpen0OhOLDl2IEwMk6GHdgaYMlx6VexNotaRjKT8mFfrO/SZqh8nOJAwJUPb6bQ5eFfS7kr6Pmm1GVysZiVagNJcigzTDsEIRC4LLiYZnpvx8Sm+OD8aTEBOYKQYGks1YybDqbPc+NlWJ4l9H6uqDOcl05rnGFUlM84lw0uM0ErzMyFv2Ax0xXK4y6cwY1cyZ8ZHmRpTnUXRcrnsrOfrSDWJJhPTWekCI7tWoTPcKGc23JbTsuvNY0Jo9Pn6KoQ/5kIbJnLAyO6jgDGbl0ZbFUqYgTDI1BXYFUvB866do2QjKDP8URi7OcjdylA+Vwvr3zhnuEtTgs+P3g30VC6RHH2xdhk2ag4bf9+InI0dvpSlVEhlOE5TjCywND7BaJRhh1dZTZnVOpSEH036hNIejYN7yWpQaMFKZ+172NzI3Ef0vWNWaljb2rmvZQFhJGnsBZ95hJE2YMmhGOkKoPBa2D3xTNWe9HY8LuDO1CUgM+X5VwHaop+2nJzygRcFuLMTfIBPQCwsIFJpyzjxs9TEmz+Q5oitqG/X1I8+0NDt/e1SFV+hYfAYBsNhHEQ3iCSIdAMJ3IuwTu2+GeazquQ5N250EDVMP+OcrbhuUT50zfdbNJPuQTQTTzJ5SvFfSugTbCum7AW2JLnrHXSwe/7+7WWw/R3KmTKgORMt2C/dwFPce/867vuBtPEFtPD75Ntb+NkMeBB+/b4HMKZ9D6GXm/yUvhWMuZSq0GgVUkBIDP673IQcM/cANbPszYy7QCUHgirLegqFkuIR11bXI7TdBtpDbtJr6aBp1/OR0mePRdJAkvZ7JOklb8bNoUd8P7ICzGabN05vY5n+x/I1WN7PWeHzbrPV23W7jSk9rDIhye7k2Tl5M0B+RTmxs5hwnaFiqIN4iDcBX1tfoGEviJMgToPo7609Wu/ji2TquRrbInjXk9gMbfOa/CleHwP/lmeR/mwGj1rFfLT+w3D+A1BLBwijRA235AIAANIMAABQSwMEFAAICAgA9nFHTAAAAAAAAAAAAAAAABYAAABnZW9nZWJyYV9qYXZhc2NyaXB0LmpzSyvNSy7JzM9TSE9P8s/zzMss0dBUqK4FAFBLBwjWN725GQAAABcAAABQSwMEFAAICAgA9nFHTAAAAAAAAAAAAAAAAAwAAABnZW9nZWJyYS54bWztW21v2zgS/tz9FYQ+xzJJ8UUqnC5cX7ot0F0sLneHw32TJcbWRZZ8kpzYRX/8zZCSbMdJa6cJsEiTRqFIDYczD2ceUi8d/bpe5OTGVHVWFuce86lHTJGUaVbMzr1VczUIvV/f/TKamXJmplVMrspqETfnnkTJvh/UfMFtW7xcnntJHtd1lnhkmccNdjn3bj2SpefemIsP0Qd5MZBiMh4Ipfkg+nChBoEcX4wZi/RFEHiErOvsbVH+ES9MvYwTc5nMzSL+XCZxY8ebN83y7XB4e3vrd5b5ZTUbzmZTf12nHgGvivrca0/egrq9TreBFeeUsuG/f//s1A+yom7iIjEeQY9X2btf3oxusyItb8ltljbzcy+S4OHcZLM5QBBp4ZEhCi0Bh6VJmuzG1NB1p2p9bhZLz4rFBV5/485I3rvjkTS7yVJTnXvUl8ojZZWZommvsnaUYdd/dJOZW6cIz+wYgkYaJiSrs2luzr2rOK/Bj6y4qgBDMKFaQbVuNrmZxlVX31rAzuAfCGRfDOoCL53jcIXSMzw0HBLdH+4PzL8xalvfDts2bMcNzoJuVH7fqFzSM2vOnVFDjzRlmVulIMfIVwIFd0VAyFd7Il1dtFXlqtoWjLatoWuNsKp+0JkewuA+ZxS93xnJ+I47FO0hEnyShEXkjCg0mBMmiYCWEFo0CbBNMkECgiIsIEJAKaxv6KeU0F9Swhg0E04J54QzwgOoSkmkIlJjR4RMRVYZhQOlwRw4AmwLAjhsWyDg4HgGiqRTA0bIQNkzRFqCfsnRfNsYhEREMBA2SM1IADZAXVMCGgNUz6wTghL8ZUSgeq4JDwnoA79RM/2x+NqJannKlLCdUV2unDJoN6Sli2OHFPsxAFNOAcwzLJgruGulrkoDV3BXCFdIJyNcT+FEHbJUOBkRnALpXabo8xXC4QQ8fyyz7s8r4Ab7a4+DIYOTIueAEB8xotqbwqdxWAt+7PCMhyesAA8PKcKjPdb03qB1JWvLp5kHxY8G4rQA/wYQ8ttAjIbdQjxqQSD1HGVbxmjMokZYdEAU71ldIe+21K450ZJotUPwZ0jxSm5ZHjk+3GN5Ge5QPfC8wkZt1w0gVyRqR/tcdMx/1nL/1wPuB6oWW7YGA1EVIwSWFqJwaWxpG6zgPXFzidzNFQFyl5woXH4f4HDYApZ11gM7N/myh9ximBXLVbOHW7JIu9OmBOk4txu8Vj4tk+v3PdKtJhPXza5a2Ctt92Bu77S3RXszyuOpyWGTe4lxQMhNnGPK2hGuyqIhbQgAb1l1djc4Mqskz9IsLv4F895txP5YLaamIva0RCetEuxO7t828lYkKcsqvdzUECZk/R9TQWfBI19E2x9I6I27EgjlSwjMJMagFpEf7f4g82weuBYqN5y5uTRNAy7XJF6buoN4VmHKtNBh5VP9vsy3TcsyK5pJvGxWlb0ngNyq0JFxMcuNRc9OLOygk+tpub50eznldP1js0QKdQZMZ5MyLysCOccl+DJry6krrQxa1ktRK0OtRDs3qLS/ziJuJWw5daWVgol1prWess5N2o2S1cTV9yLPBgVux1dF1nzuKk2WXG8dRXk35R2E+yrZE6kcDe9E26heViZO67kxTRd/e1G2E2Otn9DhamLy/HJXTO/IcdFG61Y1oLtaFN2OpO3DaDs/tckxicqCkPllUpV57la6nfPEKrCOVYhD4Lw5sB6sK6fxNMuzZjOJ82QFt4plZVM8q5sqm67sOI0NIdCb1ZPVAoUghbfRGSOrNxY52IF4LaVAA2Q0WZSp65ujIeg3uN2mKFDC/eOPWr7pMEYljh9aT/auj65NVZjc5XMB6bUqV7UTdyZai1a1+TNu5uMi/buZgVd/9mY70W0cpSbJFtDRtbfxHGOu/RMCyLWmZlaZLu6cMS7aWyvJDtZ9LDi22YpR50xn/qhOqmyJ9ECmsBRemy0DwHTEsJSmOx6hrzBHKxcKTdZgJMO9/6qZl5W9n40bbEHOzM0C7mXbebRs0mfF2N4WY/iTcvpfCKw7WbODIFzv815rm/ZYtNxB4nw5j3tf83iDjLzD6Vbh7/1MdjxQANbWBSDhpcvFpTEui53BzD7D2Fjq2zHHolmT9bk3UD4DAzYAvB8C9l/6JcD6alPPjil3Ww/moYXpO4C9fwmACYuTBYxGzwzY5CUApnzhIoz5VD8FYGvghxqf3HUwXMB6Da2YkfswDr+DL3R8FMAqtABjMXXFI/FdrYHA42pzl0cfkaDi8fDpFr73p8Kn//rwHZuuPwBf2MI3ORW+8K8P37HJ+wPwRY+FL3qFD1Bg9LH4Qc9XAAEG9mgA2SuACAN/NID8FUAC6y7rONDdo+1jVqwWpsK3kd0umjniA/Wr3Vu7Ozh2DwZdp61ruzjuP6LoQfQZdT9MRJQxxfiRsPY3fP228c5ukd6/W3xgHr4HG++ojx8DG6d3YeM/KWzsJNjYK2wOto7mxFGw8buwiZ8StknPbcdE2+SQ237OaJv03HZMtE0Oue0njbaTuG3yym0dbPwk2A647WeA7Rsb2b89/3M6+dzP6aiv3YOSAfXDJ3lO962d/wsAbMB9zbpHS88N2IcXABj1ubuT4n70FK8aknKxiIuUFPbLiIs8z5YwKHZ1b+VjiplJYobxRmKOKDqEVk13PXFKW1UHk5CUxQ7xJY+bhAdI7rQJ2L4UbuZZcl0Ag2OPLa3hyccsTY17eVku4yRr8LZVh06DyWamuAGry6omZE1xQpTUKuI0Yhp+Q0sA1DKAlgEPVai51FJojPMvtP3Ads0sWRwIbNj9Gr8w19EaAUFUZWsyRmWB9rnmgoeaCUEVfvcyRlnOfcnutMPkDTTlvopUSMNISMkl3PaPAwBB+BwEoSIg0pXPVRAqIUC14gEgNJbQNwQLIiaYlKEMhe5eCJv/FQ7U2r3OzhbLPAPcTknN315Aag6kHzguGwCAz/0e8OMLQIz5QjvAAj9izwzYpxcAGIQYZ90GQz3Fm9Nj+P83x/8fHf9/OuD/9BT+T18c/0dCASmKEIhaRTIIHf9TP+ABELzgkdb4B79/3eP/wb0ibgU41PnQCiBC7SuqIwVqAh1ifOICoPAbMMn2mpH/OQ8hcpTSoQioZMpeCJCyYEPBwnYFUAyWFYZf1WswQIXcrQAB08IXMmBc4RoQdd8OHbsCDHe/GbHf1LX/c+Pd/wFQSwcIQlT0LFcJAACFMgAAUEsBAhQAFAAICAgA9nFHTE1+02vLBAAADyYAABcAAAAAAAAAAAAAAAAAAAAAAGdlb2dlYnJhX2RlZmF1bHRzMmQueG1sUEsBAhQAFAAICAgA9nFHTKNEDbfkAgAA0gwAABcAAAAAAAAAAAAAAAAAEAUAAGdlb2dlYnJhX2RlZmF1bHRzM2QueG1sUEsBAhQAFAAICAgA9nFHTNY3vbkZAAAAFwAAABYAAAAAAAAAAAAAAAAAOQgAAGdlb2dlYnJhX2phdmFzY3JpcHQuanNQSwECFAAUAAgICAD2cUdMQlT0LFcJAACFMgAADAAAAAAAAAAAAAAAAACWCAAAZ2VvZ2VicmEueG1sUEsFBgAAAAAEAAQACAEAACcSAAAAAA==";
		ggbApplet.setBase64(newbase64, function(){
			alert("base64 updated! :) ");
		});
	 };
</script>
<script src="web3d/js/webfont.js?v=1.15"></script>
</head>
<body>
	<div id="settings" style="position: absolute; right: 0; top: 0;max-height:100%;overflow-y:auto;z-index:1000;background-color:rgba(255,255,255,0.9)"></div>
	<div style="margin-left: 100px; margin-top: 100px;">
		<div id="parent"></div>
	</div>
	<div onclick=updateggb()> update </div>

</body>
</html>
