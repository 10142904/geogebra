<?xml version="1.0" encoding="ISO-8859-1" ?>

<!--
   GeoGebra kickstart build script    
   @author Zoltan Kovacs <zoltan@geogebra.org>
-->

<project default="jogl2">

	<!-- these targets should come from the GeoGebra repository (currently) -->
	<target name="jogl2" depends="jogl2-geogebra"/>

	<!-- detecting operating system and architecture -->
	<condition property="winnt-x86">
		<os family="winnt" arch="x86"/>
	</condition>

	<condition property="winnt-amd64">
		<os family="winnt" arch="amd64"/>
	</condition>

	<condition property="winnt">
		<os family="winnt"/>
	</condition>

	<condition property="mac">
		<os family="mac"/>
	</condition>

	<condition property="unix-i386">
		<os family="unix" arch="i386"/>
	</condition>

	<condition property="unix-amd64">
		<os family="unix" arch="amd64"/>
	</condition>

	<!-- dowload jogl2 from GeoGebra repository -->
	<target name="jogl2-geogebra"
	    depends="jogl2-linux-amd64-geogebra, jogl2-linux-i586-geogebra, jogl2-macosx-geogebra, jogl2-windows-i586-geogebra, jogl2-windows-amd64-geogebra"/>

	<target name="jogl2-linux-amd64-geogebra" if="unix-amd64">
	<mkdir dir="lib/download"/>
	<mkdir dir="lib/linux-amd64"/>
	<get 
	    src="http://dev.geogebra.org/download/lib/build/jogl2/jogl2-linux-amd64.zip"
	    dest="lib/download/jogl2-linux-amd64.zip" usetimestamp="true"/>
	<unzip src="lib/download/jogl2-linux-amd64.zip" dest="lib/">
	    <mapper type="glob" from="*" to="*"/>
	</unzip>
	</target>

	<target name="jogl2-linux-i586-geogebra" if="unix-i386">
	<mkdir dir="lib/download"/>
	<mkdir dir="lib/linux-i586"/>
	<get 
	    src="http://dev.geogebra.org/download/lib/build/jogl2/jogl2-linux-i586.zip"
	    dest="lib/download/jogl2-linux-i586.zip" usetimestamp="true"/>
	<unzip src="lib/download/jogl2-linux-i586.zip" dest="lib/">
	    <mapper type="glob" from="*" to="*"/>
	</unzip>
	</target>

	<target name="jogl2-macosx-geogebra" if="mac">
	<mkdir dir="lib/jogl2-macosx"/>
	<mkdir dir="lib/download"/>
	<get 
	    src="http://dev.geogebra.org/download/lib/build/jogl2/jogl2-macosx.zip"
	    dest="lib/download/jogl2-macosx.zip" usetimestamp="true"/>
	<unzip src="lib/download/jogl2-macosx.zip" dest="lib/">
	    <mapper type="glob" from="*" to="*"/>
	</unzip>
	</target>

	<target name="jogl2-windows-amd64-geogebra" if="winnt-amd64">
	<mkdir dir="lib/download"/>
	<mkdir dir="lib/windows-amd64"/>
	<get 
	    src="http://dev.geogebra.org/download/lib/build/jogl2/jogl2-windows-amd64.zip"
	    dest="lib/download/jogl2-windows-amd64.zip" usetimestamp="true"/>
	<unzip src="lib/download/jogl2-windows-amd64.zip" dest="lib/">
	    <mapper type="glob" from="*" to="*"/>
	</unzip>
	</target>
	
	<target name="jogl2-windows-i586-geogebra" if="winnt-x86">
	<mkdir dir="lib/download"/>
	<mkdir dir="lib/windows-i586"/>
	<get 
	    src="http://dev.geogebra.org/download/lib/build/jogl2/jogl2-windows-i586.zip"
	    dest="lib/download/jogl2-windows-i586.zip" usetimestamp="true"/>
	<unzip src="lib/download/jogl2-windows-i586.zip" dest="lib/">
	    <mapper type="glob" from="*" to="*"/>
	</unzip>
	</target>

</project>
